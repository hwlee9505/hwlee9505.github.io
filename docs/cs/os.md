---
layout: default
title: Operating System
parent: CS 지식
nav_order: 11
---

# Operating System
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}
---

## context-switching이란?

```scss
여러 스레드들이 짧게 짧게 서로 실행할 수 있는 시간을 줌으로써 같이 동작할수 있게끔 그렇게...  
```

문맥 교환(context switch)이란 하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해, 이전의 프로세스의 상태(문맥)를 보관하고 새로운 프로세스의 상태를 적재하는 작업을 말한다.  
한 프로세스의 문맥은 그 프로세스의 `프로세스 제어 블록(PCB)`에 기록되어 있다.  
(위키피디아)

---

## thread와 process중 어느 것이 비용이 작은가?

프로세스는 독립된 메모리 공간을 가지지만, 스레드는 한 프로세스 내에서 메모리를 공유하므로 비용이 더 작다.  

[관련 링크](https://arer.tistory.com/80){: .btn .fs-5 .mb-4 .mb-md-0 }

---

## 메모리 할당 알고리즘 종류에 대해서

새로 적재되어야 할 프로그램과 데이터를 주기억장치 영역 중 어느 곳에 배치할지를 결정하는 알고리즘

1. First-fit(최초 적합)
주기억 장치의 사용 가능 공간을 검색하여 첫 번째로 찾아낸 곳을 할당하는 방식  
지난 번 검색이 끝난 곳에서 시작된다.  
충분한 공간을 찾으면 끝이다.  
가장 간단하다.  

2. Best-fit(최적 적합)  
사용 가능한 공간들 중에 가장 작은 것을 선택하는 방식  
가용 공간들에 대한 목록이 그 공간들의 크기 순서대로 정렬되어 있지 않으면 최적인 곳을 찾아서 전체를 검색해야 한다.  
외부 단편화를 초래하며 메모리 집약 횟수가 증가한다.  

3. Worst-fit(최악 적합)  
사용 가능한 공간들 중에 가장 큰 것을 선택하는 방식  
가용 공간을 정렬하여 수용 가능한 공간 중 가장 큰 공간을 할당하는 방식  

```markdown
장점 : 남은 공간 중 큰 곳에 바로 할당되므로 선택이 빠름  
단점 : 기억공간 정렬이 필요하고, 공간 낭비가 발생할 수 있다.  
```  

---

## 운영체제란?

`사용자와 하드웨어 사이의 중간 매개체로 응용 프로그램의 실행을 제어하고, 자원을 할당 및 관리하며, 입출력 제어 및 데이터 관리와 같은 서비스를 제공하는 소프트웨어`  

1. `조정자`  
컴퓨터 시스템은 하드웨어와 소프트웨어, 이 둘 사이를 오가는 데이터로 운영되는데 `운영체제`는 이 운영 요소를 적절하게 사용할 수 있도록 `제어`하면서 사용자와 응용 프로그램 간에 통신할 수 있게 한다.  
직접 다른 프로그램이 수행하는 특정 작업을 하는 것이 아니라 이 작업을 할 수 있는 환경만 제공하는 조정자인 셈이다.  

2. `자원 할당자나 관리자` 
여러 응용 프로그램이 동일한 컴퓨터 자원을 요구하면 `충돌`이 발생 할 수 있다.  
이때 `운영체제`는 컴퓨터 시스템을 `공정`하고 `효율적`으로 운영하려고 자원을 할당하는 방법을 결정하는 관리자 역할도 한다.  

3. `응용 프로그램과 입출력장치 제어자`  
`운영체제`는 다양한 `입출력장치`와 응용 프로그램을 제어하는 역할을 한다.  
컴퓨터 시스템을 부적절하게 사용하거나 오류가 발생하는 것을 방지하려고 하드웨어 사용을 조정하고 응용 프로그램의 실행을 제어한다.  
특히 입출력장치를 동작시키고 통제하는 핵심 역할을 한다.  


* 운영체제 기능
    * 자원 관리
        * 메모리 관리
        * 프로세스 관리
        * 주변장치(입출력장치) 관리
        * 파일(데이터) 관리
    * 시스템 관리
        * 시스템 보호(사용자 권한 부여)
        * 네트워킹(통신)
        * 명령 해석기  
        
---

## 멀티 프로그래밍 vs 멀티 테스킹

* 운영체제의 유형
    * Batch Processing System (일괄 처리 시스템)
    * Multi Programming System (다중 프로그래밍 시스템)
    * Multi Processing System (다중 처리 시스템)
    * Time Sharing System (시분할 시스템)
    * Real Time System (실시간 처리 시스템)
    * Disturbed Processing System (분산 처리 시스템)

`멀티 프로그래밍`이란, 여러 프로그램을 메모리에 적재한 후 하나의 프로그램이 프로세서를 사용하다가 입출력 동작 등을 하여 프로세서를 사용하지 않는 `유휴시간(idle time)`동안 다른 프로그램이 프로세서를 사용하도록 하는 시스템이다.  

```markdown
예를 들어 A라는 프로세스를 처리중에 있을 때 입출력 이벤트가 발생했는데 프로세서가 입출력 이벤트에 대한 응답을 위해 무작정 대기하고 있다면 프로세서의 자원을 낭비하는 결과를 초래합니다.  
프로세서, CPU는 한번에 하나의 프로세스만 처리하도록 되어있기 때문에 A 프로세서에 대한 입출력 이벤트에 대한 응답을 대기하는 동안 아무일도 하지 않기 때문입니다.  
멀티 프로그래밍은 이렇게 낭비되는 시간동안 프로세서가 다른 프로세서를 수행할 수 있도록 하는 것 입니다.  
```  

`멀티 태스킹`이란, 다수의 Task(프로세스 보다 확장된 개념이라 생각하시면 됩니다.)를 운영체제의 스케줄링에 의해 번갈아 가면서 수행하는 것 입니다.  
프로세서가 각각의 Task를 조금씩 자주 번갈아가면서 처리하기 때문에 사용자는 `마치 동시에 여러 Task가 수행되는 것` 처럼 보게 됩니다.  

---

`멀티 프로세싱`은 `두개 이상, 다수의 프로세서`가 협력적으로 작업을 동시에 처리하는 것입니다.  

`멀티 스레딩`

위에서 프로세스와 스레드의 개념을 잘 이해하셨다면 멀티스레딩 또한 쉽게 이해하실 수 있습니다.  
하나의 프로세스내에는 여러개의 스레드가 존재하게 됩니다.  
또한 이런 다수의 스레드는 하나의 데이터 자원을 공유 합니다. 때문에 메모리에 대한 효율성을 가질 수 있습니다.  

멀티 스레딩과 멀티 프로세싱의 차이에 대해서도 혼동될 수 있습니다.  
멀티 스레딩은 하나의 프로그램 안에서 병렬 처리의 이점을 보는 것이며  
멀티 프로세싱은 여러 개의 프로그램들을 병렬로 처리할 수 있는 것 입니다.  
위키백과에 나와있는 것에 의하면,  
멀리 프로세싱 시스템이 여러 개의 완전한 처리 장치들을 포함하는 반면  
멀티 스레딩은 스레드 수준뿐 아니라 명령어 수준의 병렬 처리에까지 신경을 쓰면서 하나의 코어에 대한 이용성을 증가하는 것에 초점을 두고 있습니다.  
멀티 스레딩의 장점으로는 자원을 공유하여 메모리에 대한 효율성을 가져올 수 있는 것과 이로 인해 경제성 또한 증가하는 것 등이 있습니다.  

---

## 프로세스와 스레드의 차이

`프로세스`는 실행 중인 프로그램으로 디스크로부터 메모리에 적재되어 CPU의 할당을 받을 수 있는 것을 말한다.  
운영체제로부터 주소 공간, 파일, 메모리 등을 할당받으며 이것들을 총칭하여 프로세스라고 한다.  
구체적으로 살펴보면 프로세스는 함수의 매개변수, 복귀 주소와 로컬 변수와 같은 임시 자료를 갖는 `프로세스 스택`과 전역 변수들을 수록하는 `데이터 섹션`을 포함한다.  
또한 프로세스는 프로세스 실행 중에 동적으로 할당되는 메모리인 `힙`을 포함한다.  

`프로세스 제어 블록(PCB)`는 특정 `프로세스에 대한 중욯나 정보를 저장`하고 있는 운영체제의 자료구조이다.  
운영체제는 프로세스를 관리하기 위해 `프로세스의 생성과 동시에 고유한 PCB를 생성`한다.  
프로세스는 CPU를 할당받아 작업을 처리하다가도 프로세스 전환이 발생하면 진행하던 작업ㅇ르 저장하고 CPU를 반환해야 하는데, 이때 `작업의 진행 상황을 모두 PCB에 저장하게 된다.`  
그리고 다시 CPU를 할당받게 되면 PCB에 저장되어있던 내용을 불러와 이전에 종료됐던 시점부터 다시 작업을 수행한다.  



